<h2>Complex Form</h2>
<form #f="ngForm" [ngFormModel]="form" (ngSubmit)="signup()">
  <div class="form-group">
    <label for="username">Username (Try 'kevin' for custom error validation ;))</label>
    <input type="text"
           id="username"
           class="form-control"
           ngControl="username"
           #username="ngForm"
    />
    <div *ngIf="username.control.pending">Checking for uniqueness...</div>
    <div *ngIf="username.touched && username.errors">
      <div
          *ngIf="username.errors.invalidLogin"
          class="alert alert-danger">
        Username or password is invalid
      </div>
      <div
        *ngIf="username.errors.required"
        class="alert alert-danger">
          Username is required.
      </div>
      <div
        *ngIf="username.errors.cannotContainSpace"
        class="alert alert-danger">
        Username cannot contain space.
      </div>
      <div
          *ngIf="username.errors.shouldBeUnique"
          class="alert alert-danger">Username is already taken.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="password">Password</label>
    <input type="password"
           id="password"
           class="form-control"
           ngControl="password"
           #password="ngForm"
    />
    <div
        *ngIf="!password.valid && password.touched"
        class="alert alert-danger">Password is required</div>
  </div>
  <button class="btn btn-primary" type="submit" [disabled]="!f.valid">Sign up</button>
</form>